<!-- <html>
<header>
  <title>Welcome</title>
  <meta charset="UTF-8">
</header>

<script>
  setTimeout(() => {
    fetch("/api/movie/Movies")
      .then((res) => res.json())
      .then((movies) => {
        // movies ‚Äî —ç—Ç–æ –º–∞—Å—Å–∏–≤ —Ñ–∏–ª—å–º–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä [{title: "–ò–Ω—Ç–µ—Ä—Å—Ç–µ–ª–ª–∞—Ä", ...}, ...]
        document.body.innerText = "Movies:\n" + movies.map(m => m.title).join("\n");
      })
      .catch(err => {
        document.body.innerText = "–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∏–ª—å–º–æ–≤: " + err;
      });
  }, 1000);
</script>

<script>
  setTimeout(() => {
    fetch("/movie/Employee")
      .then((res) => res.json())
      .then((emploees) => {
        // movies ‚Äî —ç—Ç–æ –º–∞—Å—Å–∏–≤ —Ñ–∏–ª—å–º–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä [{title: "–ò–Ω—Ç–µ—Ä—Å—Ç–µ–ª–ª–∞—Ä", ...}, ...]
        document.body.innerText = "Movies:\n" + emploees.map(e => e.title).join("\n");
      })
      .catch(err => {
        document.body.innerText = "–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: " + err;
      });
  }, 1000);
</script>

<body>
  Hi there üëã
</body>

</html> -->
<html>
<header>
  <title>This is title</title>
</header>

<script>
  setTimeout(() => {
    let myPath = window.location.pathname
    let myPathWithoutFile = myPath.substring(0, myPath.lastIndexOf('/'))
    fetch(myPathWithoutFile + "/user-api/currentUser").then((res) => {
      return res.json();
    }).then((user) => {
      document.getElementsByTagName("body")[0].innerText = `Hi ${user.firstname}!`
    });
  }, 1000);
</script>

<body>
  Hello World
</body>

</html>